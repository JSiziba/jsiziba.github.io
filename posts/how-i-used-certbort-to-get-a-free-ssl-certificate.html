<!DOCTYPE html>
<html lang="en" class="dark">
	<head>
		<meta charset="utf-8" />
		<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
		<link rel="manifest" href="../site.webmanifest">

		<title>Johnson Andrew Siziba</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.131c26ee.css" rel="stylesheet">
		<link href="../_app/immutable/assets/ProgressBar.4f1e9ba5.css" rel="stylesheet">
		<link href="../_app/immutable/assets/7.7cff183b.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.f475d9a5.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.d8ec4c9c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.ad141c06.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.f5f261b0.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.8a141f06.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.f60eb3ad.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.dff08b4c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.3eb891df.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/ProgressBar.svelte_svelte_type_style_lang.7c14f914.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.f2c55e72.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/8.8243f098.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CodeBlock.3792ad78.js"><title>How I Used Certbot to Get a Free SSL Certificate</title><!-- HEAD_svelte-7r4r99_START --><!-- HEAD_svelte-7r4r99_END -->
	</head>
	<body data-theme="skeleton" data-sveltekit-preload-data="hover">
		<div style="display: contents">  <div class="h-screen w-screen overflow-hidden flex text-highstorm-white"><aside class="w-fit h-full flex-col justify-between pt-14 pb-5 pl-14 lg:pl-20 hidden lg:flex"><section data-svelte-h="svelte-1fdsu4p"><h1><a class="font-bold text-[32px] whitespace-nowrap text-highstorm-white hover:text-highstorm-white hover:no-underline" href="/">Johnson Andrew Siziba</a></h1> <h2 class="font-[500] text-[24px]">Software Engineer</h2> <p class="pt-3.5 font-normal text-[16px]">Navigating the Infinite Possibilities of Software</p></section> <section><a class="hover:no-underline" href="/"><div class="flex flex-row gap-3 text-highstorm-white font-[400] text-[20px] items-center cursor-pointer active svelte-z7pr3n"><span class="line w-[20px] border-b-[2px] border-highstorm-white transition-all duration-200 svelte-z7pr3n"></span> <span class="menu-text svelte-z7pr3n" data-svelte-h="svelte-fg6vst">ABOUT ME</span></div></a> <a class="hover:no-underline" href="/posts"><div class="flex flex-row gap-3 text-highstorm-white font-[400] text-[20px] items-center mt-3.5 cursor-pointer  svelte-z7pr3n"><span class="line w-[20px] border-b-[2px] border-highstorm-white transition-all duration-200 svelte-z7pr3n"></span> <span class="menu-text svelte-z7pr3n" data-svelte-h="svelte-w00dt3">MY NOTES</span></div></a></section> <section data-svelte-h="svelte-8tj2pr"><div class="flex gap-5"><a target="_blank" href="https://github.com/JSiziba"><img class="w-[32px] h-[32px]" src="/svgs/github.svg" alt="Github"></a> <a href="mailto:jsiziba.zw@gmail.com" target="_blank"><img class="w-[32px] h-[32px]" src="/svgs/mail.svg" alt="Mail"></a> <a href="https://www.linkedin.com/in/johnson-siziba-804a091a3/" target="_blank"><img class="w-[32px] h-[32px]" src="/svgs/linkedin.svg" alt="Linkedin"></a> <a href="https://wa.me/263784310119" target="_blank"><img class="w-[32px] h-[32px]" src="/svgs/whatsapp.svg" alt="WhatsApp"></a></div></section></aside> <main class="h-screen flex flex-col w-full"><div class="flex justify-between lg:hidden w-full h-[55px] bg-windrunner-blue-primary items-center px-5"><button class="outline-0 border-0 bg-transparent" data-svelte-h="svelte-b3ztzr"><img class="h-[32px] aspect-auto" alt="Menu" src="/svgs/menu.svg"></button></div> <div class="h-full pt-14 mb-5 overflow-y-auto custom-scrollbar px-10 lg:px-20 xl:px-40 w-full"><div class="w-full"> <article class="flex gap-10 flex-col"><h1 class="h1" data-svelte-h="svelte-1wzw52c">How I Used Certbot to Get a Free SSL Certificate</h1> <section class="svelte-zk6joi" data-svelte-h="svelte-7e1hdj"><p>SSL certificates are essential for securing web applications and ensuring that the data exchanged between the server and the client is encrypted and authenticated. However, obtaining and renewing SSL certificates can be costly and time-consuming, especially for small projects or personal websites. That’s why I decided to use Certbot, a free and open-source tool that automates the process of obtaining and renewing SSL certificates from Let’s Encrypt, a non-profit certificate authority that provides free SSL certificates for anyone who owns a domain name.</p> <p>In this article, I will share with you how I used Certbot to get a free SSL certificate for my Spring Boot web application, and how I configured it to work with my server. I will also show you how I solved some of the challenges that I faced along the way.</p></section> <section class="svelte-zk6joi"><h2 class="h2" data-svelte-h="svelte-1l3jrle">Step 1: Install Certbot</h2> <p data-svelte-h="svelte-1p5e4ok">The first step is to install Certbot on your server. The installation process might vary depending on your operating system. On Ubuntu, you can use the following commands:</p>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">terminal</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-shell lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	sudo apt-get update
<span class="line"></span>	sudo apt-get install certbot<!-- HTML_TAG_END --></code></pre></div> <p data-svelte-h="svelte-1i5hs6o">You can check the official documentation of Certbot for other operating systems and installation methods.</p></section> <section class="svelte-zk6joi"><h2 class="h2" data-svelte-h="svelte-1nf43w6">Step 2: Obtain the Certificate</h2> <p data-svelte-h="svelte-1tgazz0">The next step is to obtain the certificate from Let’s Encrypt using Certbot. There are different ways to do this, depending on how you want to verify your domain ownership and how you want to configure your web server. In my case, I chose to use the standalone mode, which means that Certbot will create a temporary web server on your machine and use it to perform the verification process. To use this mode, you need to run the following command:</p>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">terminal</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-shell lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	sudo certbot certonly --standalone<!-- HTML_TAG_END --></code></pre></div> <p data-svelte-h="svelte-lvlkqu">This command will prompt you to provide some information, such as your email address and your domain name. You need to have a valid domain name that points to your server’s IP address. If you don’t have one, you can use a free dynamic DNS service, such as [No-IP], to create one. I used No-IP to create a subdomain for my server and updated the DNS records accordingly.</p> <p data-svelte-h="svelte-14lrsrk">After you provide the necessary information, Certbot will attempt to bind to port 80 on your server and complete the verification process. If everything goes well, you should see a message like this:</p> <img class="w-full" src="/images/Screenshot%202024-01-21%20105929.png" alt="" srcset=""> <p data-svelte-h="svelte-na4k02">This means that you have successfully obtained a free SSL certificate for your domain, and it is valid for 90 days. You can also find the certificate and the private key files in the /etc/letsencrypt/live/your-domain directory.</p></section> <section class="svelte-zk6joi"><h2 class="h2" data-svelte-h="svelte-196o8ki">Step 3: Convert PEM to PKCS12</h2> <p data-svelte-h="svelte-5nt1v3">The certificate and the private key files that Certbot generates are in the PEM format, which is a text-based format that contains the base64-encoded data. However, Spring Boot requires the SSL certificate to be in the PKCS12 format, which is a binary format that can store multiple certificates and keys in a single file. Therefore, we need to convert the PEM files to a PKCS12 file using the openssl command. To do this, you need to go to the /etc/letsencrypt/live/your-domain directory and run the following command:</p>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">terminal</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-shell lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out springboot_letsencrypt.p12 -name bootalias -CAfile chain.pem -caname root<!-- HTML_TAG_END --></code></pre></div> <p data-svelte-h="svelte-euit9l">This command will create a PKCS12 file named springboot_letsencrypt.p12 that contains the certificate, the private key, and the certificate chain. You also need to specify a name for the certificate alias (bootalias in this case) and a password for the file. You can choose any name and password you want, but you will need them later to configure your Spring Boot application.</p></section> <section class="svelte-zk6joi" data-svelte-h="svelte-o3lwhr"><h2 class="h2">Step 4: Copy the PKCS12 File to Your Spring Boot Project</h2> <p>The next step is to copy the PKCS12 file that you created in the previous step to your Spring Boot project. You can use any method you prefer, such as scp, rsync, or ftp, to transfer the file from your server to your local machine. In my case, I used scp to copy the file to the src/main/resources/ssl directory of my Spring Boot project. You can create this directory if it doesn’t exist.</p></section> <section class="svelte-zk6joi"><h2 class="h2" data-svelte-h="svelte-z947v1">Step 5: Configure Spring Boot to Use the SSL Certificate</h2> <p data-svelte-h="svelte-111j6mk">The final step is to configure your Spring Boot application to use the SSL certificate that you obtained from Let’s Encrypt. To do this, you need to add some properties to your application.properties or application.yml file. Here are the properties that I added to my application.properties file:</p>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">terminal</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-shell lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	server.port=8443
<span class="line"></span>	server.http.port=8080
<span class="line"></span>	server.ssl.key-store=src/main/resources/ssl/springboot_letsencrypt.p12
<span class="line"></span>	server.ssl.key-store-password=password99
<span class="line"></span>	server.ssl.keyStoreType=PKCS12
<span class="line"></span>	server.ssl.keyAlias=bootalias<!-- HTML_TAG_END --></code></pre></div> <p data-svelte-h="svelte-1i6pdp6">These properties tell Spring Boot to use the PKCS12 file that we copied to the src/main/resources/ssl directory as the key store for the SSL certificate, and to use the password and the alias that we specified when we created the file. They also tell Spring Boot to run the application on port 8443, which is the default port for HTTPS, and to redirect any HTTP requests on port 8080 to HTTPS.</p> <p data-svelte-h="svelte-1xzy7sp">You can also use YAML syntax if you prefer, or use environment variables or command-line arguments to override these properties. You can find more information about how to configure SSL in Spring Boot in the [official documentation].</p></section> </article></div></div></main></div>  
			
			<script>
				{
					__sveltekit_1vxbfti = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("../_app/immutable/entry/start.f475d9a5.js"),
						import("../_app/immutable/entry/app.8a141f06.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 8],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
