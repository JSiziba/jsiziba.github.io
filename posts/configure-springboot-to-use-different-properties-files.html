<!DOCTYPE html>
<html lang="en" class="dark">
	<head>
		<meta charset="utf-8" />
		<link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
		<link rel="manifest" href="../site.webmanifest">

		<title>Johnson Andrew Siziba</title>

		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="../_app/immutable/assets/0.131c26ee.css" rel="stylesheet">
		<link href="../_app/immutable/assets/ProgressBar.4f1e9ba5.css" rel="stylesheet">
		<link href="../_app/immutable/assets/7.7cff183b.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.b345e792.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/scheduler.d8ec4c9c.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.6344876f.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.f5f261b0.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.bdecdf89.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.f60eb3ad.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.933016b4.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/stores.3eb891df.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/ProgressBar.svelte_svelte_type_style_lang.7c14f914.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/2.f2c55e72.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/7.34f582b0.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CodeBlock.3792ad78.js"><title>How to Configure Spring Boot App to Use Different .properties Files Depending on the Environment</title><!-- HEAD_svelte-1cl5vws_START --><!-- HEAD_svelte-1cl5vws_END -->
	</head>
	<body data-theme="skeleton" data-sveltekit-preload-data="hover">
		<div style="display: contents">  <div class="h-screen w-screen overflow-hidden flex text-highstorm-white"><aside class="w-fit h-full flex-col justify-between pt-14 pb-5 pl-14 lg:pl-20 hidden lg:flex"><section data-svelte-h="svelte-1fdsu4p"><h1><a class="font-bold text-[32px] whitespace-nowrap text-highstorm-white hover:text-highstorm-white hover:no-underline" href="/">Johnson Andrew Siziba</a></h1> <h2 class="font-[500] text-[24px]">Software Engineer</h2> <p class="pt-3.5 font-normal text-[16px]">Navigating the Infinite Possibilities of Software</p></section> <section><a class="hover:no-underline" href="/"><div class="flex flex-row gap-3 text-highstorm-white font-[400] text-[20px] items-center cursor-pointer active svelte-z7pr3n"><span class="line w-[20px] border-b-[2px] border-highstorm-white transition-all duration-200 svelte-z7pr3n"></span> <span class="menu-text svelte-z7pr3n" data-svelte-h="svelte-fg6vst">ABOUT ME</span></div></a> <a class="hover:no-underline" href="/posts"><div class="flex flex-row gap-3 text-highstorm-white font-[400] text-[20px] items-center mt-3.5 cursor-pointer  svelte-z7pr3n"><span class="line w-[20px] border-b-[2px] border-highstorm-white transition-all duration-200 svelte-z7pr3n"></span> <span class="menu-text svelte-z7pr3n" data-svelte-h="svelte-w00dt3">MY NOTES</span></div></a></section> <section data-svelte-h="svelte-8tj2pr"><div class="flex gap-5"><a target="_blank" href="https://github.com/JSiziba"><img class="w-[32px] h-[32px]" src="/svgs/github.svg" alt="Github"></a> <a href="mailto:jsiziba.zw@gmail.com" target="_blank"><img class="w-[32px] h-[32px]" src="/svgs/mail.svg" alt="Mail"></a> <a href="https://www.linkedin.com/in/johnson-siziba-804a091a3/" target="_blank"><img class="w-[32px] h-[32px]" src="/svgs/linkedin.svg" alt="Linkedin"></a> <a href="https://wa.me/263784310119" target="_blank"><img class="w-[32px] h-[32px]" src="/svgs/whatsapp.svg" alt="WhatsApp"></a></div></section></aside> <main class="h-screen flex flex-col w-full"><div class="flex justify-between lg:hidden w-full h-[55px] bg-windrunner-blue-primary items-center px-5"><button class="outline-0 border-0 bg-transparent" data-svelte-h="svelte-b3ztzr"><img class="h-[32px] aspect-auto" alt="Menu" src="/svgs/menu.svg"></button></div> <div class="h-full pt-14 mb-5 overflow-y-auto custom-scrollbar px-10 lg:px-20 xl:px-40 w-full"><div class="w-full"> <article class="flex gap-10 flex-col"><h1 class="h1" data-svelte-h="svelte-wdfcv9">How to Configure Spring Boot App to Use Different .properties Files Depending on the Environment</h1> <section class="svelte-zk6joi" data-svelte-h="svelte-n9ftb7"><p>Sometimes you might need to customize some settings based on the environment where your application is running, such as development, testing, staging, or production. For example, you might want to use different database credentials, logging levels, or port numbers for different environments.</p> <p>One way to achieve this is to use Spring Boot profiles, which allow you to define and activate different sets of configuration properties for different environments. In this article, I will show you how to use Spring Boot profiles to manage multiple .properties files for different environments, and how to switch between them easily.</p></section> <section class="svelte-zk6joi"><h2 class="h2" data-svelte-h="svelte-1p81xwy">Step 1: Create Multiple .properties Files for Different Environments</h2> <p data-svelte-h="svelte-1lkg9gg">The first step is to create multiple .properties files for different environments in your Spring Boot project. The .properties files are simple text files that contain key-value pairs of configuration properties, such as server.port=8080 or spring.datasource.url=jdbc:mysql://localhost:3306/mydb.</p> <p>The naming convention for the .properties files is application-{profile}.properties, where {profile} is the name of the environment, such as dev, test, prod, etc. You can choose any name you want, but it should be meaningful and consistent. For example, you can have the following files in your src/main/resources directory:</p> <ul class="mx-14 list-disc" data-svelte-h="svelte-igthq5"><li>application.properties: This is the default file that contains the common properties for all environments. You can also use this file to specify the active profile for your application, as we will see later</li> <li>application-dev.properties: This file contains the properties for the development environment, such as server.port=8080 or spring.datasource.url=jdbc:h2:mem:testdb.</li> <li>application-test.properties: This file contains the properties for the testing environment, such as server.port=8081 or spring.datasource.url=jdbc:mysql://testdb:3306/mydb.</li> <li>application-prod.properties: This file contains the properties for the production environment, such as server.port=8082 or spring.datasource.url=jdbc:mysql://proddb:3306/mydb.</li> <p>You can add or modify any properties you want in these files, depending on your needs and preferences. However, you should not repeat the same properties in different files, unless you want to override them. Spring Boot will automatically load the properties from the default file and the profile-specific file, and give priority to the profile-specific file if there are any conflicts.</p></ul></section> <section class="svelte-zk6joi"><h2 class="h2" data-svelte-h="svelte-1cwy634">Step 2: Activate the Profile for Your Application</h2> <p data-svelte-h="svelte-v4q2jg">The next step is to activate the profile for your application, which means to tell Spring Boot which .properties file to use for the current environment. There are different ways to do this, depending on how you run your application. Here are some of the common methods:</p> <ul class="mx-14 list-disc"><li>Use the spring.profiles.active property in the application.properties file. This is the simplest way to activate a profile, but it requires you to modify the file every time you want to switch the environment. For example, you can add the following line to your application.properties file to activate the dev profile:
        <br>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">plaintext</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-plaintext lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	spring.profiles.active=dev<!-- HTML_TAG_END --></code></pre></div></li> <li>Use the --spring.profiles.active command-line argument when running your application. This is a more flexible way to activate a profile, as you can pass any profile name you want without changing the file. For example, you can run the following command to activate the test profile:
        <br>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">terminal</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-shell lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	java -jar myapp.jar --spring.profiles.active=dev<!-- HTML_TAG_END --></code></pre></div></li> <li>Use the SPRING_PROFILES_ACTIVE environment variable when running your application. This is another way to activate a profile, which is useful when you deploy your application to a cloud platform or a container. For example, you can set the following environment variable to activate the prod profile:
        <br>  <div class="codeblock overflow-hidden shadow bg-neutral-900/90  text-sm text-white rounded-container-token shadow " data-testid="codeblock"> <header class="codeblock-header text-xs text-white/50 uppercase flex justify-between items-center p-2 pl-4"> <span class="codeblock-language">terminal</span>  <button class="codeblock-btn btn btn-sm variant-soft !text-white">Copy</button></header>  <pre class="codeblock-pre whitespace-pre-wrap break-all p-4 pt-1"><code class="codeblock-code language-shell lineNumbers"><!-- HTML_TAG_START --><span class="line"></span>	SPRING_PROFILES_ACTIVE=prod java -jar myapp.jar<!-- HTML_TAG_END --></code></pre></div></li></ul> <p data-svelte-h="svelte-1jeu06q">You can also use a combination of these methods, as Spring Boot will merge the profiles from different sources. However, the order of precedence is as follows: command-line arguments &gt; environment variables &gt; application.properties file. This means that the command-line arguments will override the environment variables, and the environment variables will override the application.properties file.</p></section> <section class="svelte-zk6joi" data-svelte-h="svelte-1yelwc0"><h2 class="h2">Step 3: Use the Properties in Your Application</h2> <p>Once you have activated the profile for your application, you can use the properties in your application. For example, you can use the @Value annotation to inject the properties into your beans:</p></section> </article></div></div></main></div>  
			
			<script>
				{
					__sveltekit_1mc4kce = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null,null];

					Promise.all([
						import("../_app/immutable/entry/start.b345e792.js"),
						import("../_app/immutable/entry/app.bdecdf89.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 2, 7],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
